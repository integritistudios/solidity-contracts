sudo timedatectl set-timezone Australia/Brisbane

echo "///"
echo "/// section 0 - allocate new drive"
echo "///"

sudo apt-get update -y
sudo apt-get install --only-upgrade -y linux-aws
sudo reboot

lsblk

// its probably called nvme0n1
sudo mkfs -t xfs /dev/nvme0n1
sudo mkdir /bsc
sudo mount /dev/nvme0n1 /bsc

sudo blkid
<<<<<<<< GET UUID

sudo cp /etc/fstab /etc/fstab.orig
sudo pico /etc/fstab
<<<<<<<< ENTER UUID
UUID=UUIDGOESHERE  /bsc  xfs  defaults,nofail  0  2
sudo reboot

sudo chown ubuntu:ubuntu -R /bsc
sudo chmod 777 /bsc

echo "///"
echo "/// section 1 - install geth"
echo "///"

sudo apt-get update
sudo apt-get install unzip build-essential make gzip -y

cd /bsc
wget https://golang.org/dl/go1.16.3.linux-amd64.tar.gz
sudo tar -C /usr/local -xzf go1.16.3.linux-amd64.tar.gz

git clone https://xxxeh@bitbucket.org/xxxeh/xxx-bsc.git
87hqWY9XGPxgaSzZuRSF
cd /bsc/xxx-bsc
git checkout xxx-bsc
export PATH=$PATH:/usr/local/go/bin 
rm go.sum
go mod tidy

// BSC
make geth
// MATIC
make bor-all

// GENESIS BLOCK FOR BSC
cd /bsc
wget https://github.com/binance-chain/bsc/releases/download/v1.0.7-ht.3/mainnet.zip
cd xxx-bsc
mv /bsc/mainnet.zip .
unzip mainnet.zip
./build/bin/geth --datadir /bsc/node init genesis.json

// GENESIS BLOCK FOR MATIC
wget https://raw.githubusercontent.com/maticnetwork/launch/master/mainnet-v1/sentry/sentry/bor/genesis.json
./build/bin/geth --datadir /bsc/node init genesis.json

// NEXT
echo $'pkill -9 geth\nnohup ./build/bin/geth --config ./config.toml --datadir /bsc/node --rpc --ws --rpcaddr "0.0.0.0" --wsaddr "0.0.0.0" --cache 12000 &' > bsc.sh

echo "///"
echo "/// section 2  - replace the following sections in config.toml"
echo "///"

// GENERATE CONFIG.TOML

rm config.toml
pico config.toml

echo "START"

echo "END"

echo "///"
echo "/// section 4 - start the node"
echo "///"

// finale 

sh bsc.sh
tail -f nohup.out
